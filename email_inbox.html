<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>控制台</title>
    <link rel="stylesheet" type="text/css" href="Css/identify.css" />
    <link rel="stylesheet" type="text/css" href="Css/layout.css" />
    <link rel="stylesheet" type="text/css" href="Css/account.css" />
    <link rel="stylesheet" type="text/css" href="Css/style.css" />
    <link rel="stylesheet" type="text/css" href="Css/control_index.css" />
    <script type="text/javascript" src="Js/jquery-1.7.2.min.js"></script>
    <script type="text/javascript" src="Js/layer/layer.js"></script>
    <script type="text/javascript" src="Js/haidao.offcial.general.js"></script>
    <script type="text/javascript" src="Js/select.js"></script>
    <script type="text/javascript" src="Js/haidao.validate.js"></script>
</head>
<body>
    <div id="view-topbar"></div>
    <script>
        $('#view-topbar').load('module/view-topbar.html')
    </script>
    <div class="view-body">
        <div id="view-sidebar"></div>
        <script>
            $('#view-sidebar').load('module/view-sidebar.html')
        </script>
        <div class="view-product" style="box-shadow: 0px 0px 10px rgba(0,0,0,0.1);">
            <div class="email-app">
                <div class="inbox">
                    <div class="inbox-header">
                        <h2>收件箱</h2>
                        <input type="text" id="emailSearch" placeholder="搜索邮件（发件人、标题、日期、内容等）" title="搜索邮件（发件人、标题、日期、内容等）">
                    </div>
                    <div class="email-list">
                        <!-- 这里动态填充邮件列表 -->
                    </div>
                </div>
            </div>
            <div class="show-page padding-big-right">
                <div class="page">
                    <ul class="offcial-page margin-top margin-big-right">
                        <li>共<em class="margin-small-left margin-small-right">1</em>条数据</li>
                        <li>每页显示<em class="margin-small-left margin-small-right">15</em>条</li>
                        <li><a class="next disable">上一页</a></li>
                        <li></li>
                        <li><a class="next disable">下一页</a></li>
                        <li><span class="fl">共<em class="margin-small-left margin-small-right">1</em>页</span></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <script>
        $(".sidebar-title").live('click', function() {
            if ($(this).parent(".sidebar-nav").hasClass("sidebar-nav-fold")) {
                $(this).next().slideDown(200);
                $(this).parent(".sidebar-nav").removeClass("sidebar-nav-fold");
            } else {
                $(this).next().slideUp(200);
                $(this).parent(".sidebar-nav").addClass("sidebar-nav-fold");
            }
        });
    </script>

    <!-- 点击邮件 -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            var emailList = document.querySelector('.email-list');

            // 模拟的邮件数据
            var emails = [
                { sender: "发件人1", subject: "主题1", date: "2023-12-23" },
                { sender: "发件人2", subject: "主题2", date: "2023-12-22" },
                { sender: "发件人3", subject: "主题3", date: "2023-12-21" }
                // 可以添加更多的模拟邮件
            ];

            // 生成邮件列表
            emails.forEach(function(email) {
                var div = document.createElement('div');
                div.innerHTML = '<span class="sender">' + email.sender + '</span> <span class="subject">' + email.subject + '</span> <span class="date">' + email.date + '</span>';
                div.className = 'email-item';
                div.onclick = function() {
                    alert('打开邮件: ' + email.subject);
                };
                emailList.appendChild(div);
            });
        });
    </script>
    
    <!-- 搜索功能 -->
    <script>
        document.getElementById('emailSearch').addEventListener('input', function(e) {
            var searchKeyword = e.target.value.toLowerCase();
            var emails = document.querySelectorAll('.email-list > div');

            emails.forEach(function(email) {
                var emailContent = email.textContent.toLowerCase();
                email.style.display = emailContent.includes(searchKeyword) ? 'flex' : 'none';
            });
        });
    </script>
</body>
</html>